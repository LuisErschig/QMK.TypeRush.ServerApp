@page "/typerush"
@inject IJSRuntime JsRuntime
@inject ILogger<Leaderboard> logger
@inject IWebHostEnvironment Env

<PageTitle>TypeRush</PageTitle>

<main class="main">
    <h1>TypeRush</h1>
    <hr />

    @switch (CountdownBoxDisabled)
    {
        case true:
            <div style="height: 225px;"></div>
            break;

        case false:
            <div class="countdown-box">
                @countdown
            </div>
            break;
    }

    <div class="text-box" contenteditable="false">
        @textToType
    </div>

    <div style="height: 60px;"></div>

    <input id="UserInputBox" class="input-box" type="text" @onkeydown="HandleKeyDownAsync" @bind="userInput" disabled="@InputDiasbled" />

    <div class="button-container-right" hidden="@StartButtonDiasbled">
        <div style="height: 40px;"></div>
        <button @onclick="StartCountdown" class="start-button">Start Game</button>
    </div>

    <div style="height: 60px;"></div>

    <div style="display: block; align-content: center">
        <div class="container">
            <div class="label">
                <p>Fehler:</p>
                <p>Zeit:</p>
            </div>
            <div class="data">
                <p>404</p>
                <p>12:30</p>
            </div>
        </div>
        <button class="start-button leaderboard-button">Ins Leaderboard eintragen</button>
    </div>

</main>




@* @if (!GameStarted && !GameFinished)
{
    <div class="game-box">
        <button @onclick="StartCountdown" class="start-button">Start Game</button>
    </div>

    @if (Countdown > 0)
    {
        <p class="countdown">Game starts in: @Countdown</p>
    }
}
else if (GameStarted && !GameFinished)
{
    <div class="game-box">
        <p class="target-text">@TextToType</p>
        <input type="text" @bind="UserInput" @onkeydown="HandleKeyDown" class="input-box" />
    </div>
}
else
{
    <div class="game-box">
        <h4>Game Over!</h4>
        <p>Total Time: @GameTimeElapsed seconds</p>
        <p>Errors: @Errors</p>

        <form @onsubmit="SubmitScore">
            <label for="name">Name (required):</label>
            <input type="text" id="name" @bind="PlayerName" required class="input-box"/>

            <label for="class">Class (optional):</label>
            <input type="text" id="class" @bind="PlayerClass" class="input-box"/>

            <button type="submit" class="submit-button">Submit Score</button>
        </form>
    </div>
} *@